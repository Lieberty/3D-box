<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style id="set">
		body{
			background-color: #ccc;
		}
		li {
			list-style: none;
		}
		button {
			width: 50px;
			height: 50px;
			background: #000;
			color: #fff; 
			border-radius: 50%;  
			text-align: center; 
			cursor: pointer;
			position: fixed;
			right: 90px;
			top: 90px;
		}
		#pic_box {
			width: 900px;
			height: 500px;
			margin: 100px auto;
			perspective: 1000px;
			padding: 0;
			transform:scale(0.8);
			perspective-origin:right top;
		}
		
		#pic_box li{
			float:left;
			position: relative;
			transform-style: preserve-3d;
			height: 500px;
			transform-origin: center center -250px;
			
		}
		.surface {
			width: 45px;
			height: 500px;
			position: absolute;
			background-size: 900px 500px;
		}
		#pic_box li span:nth-of-type(1) {
			background-image: url(https://github.com/Lieberty/3D-box/blob/master/img/1.PNG);
			width: 45px;
		}
		#pic_box li span:nth-of-type(2) {
			background-image: url(./img/2.png);		
			transform: rotateX(90deg);
			transform-origin: bottom;		
			top: -500px;
		}
		#pic_box li span:nth-of-type(3) {
			background-image: url(./img/3.png);		
			transform: rotateX(90deg);
			transform: translateZ(-500px) rotateX(180deg);				
		}
		#pic_box li span:nth-of-type(4) {
			background-image: url(./img/4.png);
			top: 500px;
			transform: rotateX(-90deg);
			transform-origin: top;
		}

		.side { 
			position: absolute;
			width: 500px;
			height: 500px;
			background: #999;
		}
		.left { 
			transform-origin: left; 
			transform: rotateY(90deg);
			
		}
		.right { 
			transform-origin: left; 
			transform: rotateY(90deg);	
		}
		
	</style>
</head>
<body>
	<ul id="pic_box">	    
	</ul>
    <button>点击旋转</button>
</body>

<script>
function Picture(wid,time){
	var oCss=document.getElementById("set");
	var aLeft=document.getElementsByClassName("left");
	var aRight=document.getElementsByClassName("right");

	var oBox = document.getElementById("pic_box");
	var aLi=oBox.getElementsByTagName("li");
	var oBnt=document.getElementsByTagName("button")[0];

	var aFace=document.getElementsByClassName("surface");

	var iNow=0;
	var iWidth=wid;
	var length=oBox.clientWidth/iWidth;

	for(let i=0;i<length;i++){	
		oBox.innerHTML+='<li class="ss"><span class="surface"></span><span class="surface"></span><span class="surface"></span><span class="surface"></span><span class="side left"></span><span class="side right"></span></li>';

		oCss.innerHTML+="#pic_box li:nth-of-type("+(i+1)+") span{ background-position:-"+i*iWidth+"px 0; left :"+i*iWidth+"px} ";

		aLeft[i].style.left=i*iWidth+'px';
		aRight[i].style.left=(i+1)*iWidth+'px';
		aLi[i].style.transition=time+"s "+i*50+"ms";
	}
	oBnt.onclick=function(){
		iNow++;
		for(var i=0;i<length;i++){
			aLi[i].style.transform='rotateX('+iNow*90+'deg)';
		}
	}
	
	
}

Picture(45,0.5);

</script>
</html>
